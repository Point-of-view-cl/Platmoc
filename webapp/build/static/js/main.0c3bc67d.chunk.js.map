{"version":3,"sources":["img/newMarker.svg","reducers/markers.js","reducers/globals.js","reducers/markerDetail.js","reducers/markerEdit.js","reducers/index.js","reducers/test.js","actions/types.js","actions/new_marker.js","actions/load_marker.js","actions/edit_marker.js","actions/filter_marker.js","actions/admin_control.js","components/NewMarker.js","components/ToolBar.js","components/Filter.js","components/EditMarker.js","components/AdminPanel.js","helpers/iconList.js","components/Home.js","components/Main.js","index.js","img/market.svg"],"names":["module","exports","defaultValues","markers","newMarketShowRefPoint","newMarketFromOpen","editMarketFromOpen","adminEnabledFilter","markerDetail","until","queue_level","products","ready","name","id","combineReducers","test","state","action","type","payload","statics","markerList","forEach","element","untilAux","location_id","lat","lng","long","marker_type","update","$merge","dinamycMarkers","created_at","moment","subtract","updated_at","adminFilter","marker_id","enable","$set","globals","markerEdit","setNewMarkerRefPointOn","dispatch","Promise","resolve","reject","setNewMarkerRefPointOff","setNewMarkerFromOpen","setNewMarkerFromClose","require","config","loadStaticMarkers","a","loadMarkers","body","JSON","stringify","latMin","latMax","lngMin","lngMax","headers","process","axios","post","res","data","console","log","getMarketDetail","lastChange","format","push","nivelCola","closing_hour","unLoadMarkerDetail","newMarker","clearAllMarkers","setEditMarkerFromOpen","setEditMarkerFromClose","editMarker","productFilter","product_type","changeAuth","is_enable","enabledStatus","TESTlocalFilterAll","TESTlocalFilterOnlyEnabled","TESTlocalFilterOnlyDisabled","NewMarker","props","now","nombre","time","selectCola","value","label","level","selectProducto","error","showAviso","procesando","errorMsg","optionsList","this","setState","item","length","validateForm","newMarkerLat","newMarkerLng","then","style","color","s","textAlign","paddingBottom","paddingTop","backgroundColor","onClick","onCreateNewMarker","selectedOptionsStyles","optionsListStyles","marginTop","offset","paddingLeft","paddingRight","onChange","event","target","allowEmpty","showSecond","defaultValue","className","inputReadOnly","marginBottom","options","optionClicked","optionClickedCola","bind","selectedBadgeClicked","selectedBadgeClickedCola","isSingleSelect","optionClickedProducto","selectedBadgeClickedProducto","renderError","width","position","background","borderRadius","renderForm","renderOptions","Component","connect","actions","ToolBar","renderToolBar","Filter","itemSelected","updateCenderMap","selection","auxList","desactivado","itemList","key","updateItemSelected","fontSize","activeFilver","option","trigger","onCloseEnd","filterMarkers","borderStyle","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","borderColor","renderFilterItems","TESTadminFilter","EditMarker","markerId","selectColaAux","selectProductoAux","encontrado","incomeItems","onEditMarker","AdminPanel","markersArry","Object","entries","markerData","assign","ordenados","sort","b","cards","marker","onForceCenter","striped","data-field","renderListByDate","iconMarket","L","Icon","iconUrl","iconRetinaUrl","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","iconSize","Point","iconMarketMini","Home","mapRef","React","createRef","zoom","newMarkerIcon","centerMap","onClickCenterMap","forceCenter","items","editButton","disabled","checkButton","Marker","icon","Popup","autoPan","borderBottomStyle","join","borderTopStyle","disableClusteringAtZoom","spiderfyOnMaxZoom","navigator","geolocation","getCurrentPosition","poss","coords","latitude","longitude","enableHighAccuracy","maximumAge","center","displayMap","height","left","renderNewMarkerFrom","renderEditMarkerFrom","Map","maxZoom","minZoom","ref","display","onViewportChange","onChangeMapPosition","zoomControl","animate","TileLayer","attribution","url","renderMarker","renderNewMarketIcon","ZoomControl","right","Main","exact","path","component","store","createStore","reducers","compose","applyMiddleware","reduxThunk","window","devToolsExtension","f","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.0c3bc67d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/newMarker.d04a1686.svg\";","import update from 'react-addons-update';\r\nimport moment from 'moment';\r\n\r\nimport { LOAD_STATIC_MARKERS, LOAD_MARKERS, CLEAR_ALL_MARKERS, TEST_LOCAL_FILTER_ONLY_ENABLED, TEST_LOCAL_FILTER_ONLY_DISABLED } from '../actions/types';\r\n\r\nvar defaultValues = {\r\n  markers: {\r\n    /*\r\n      a0001:{\r\n        lat: -32.949715,\r\n        lng: -71.544152,\r\n        name: 'a'\r\n      },\r\n      a0002:{\r\n        lat: 50.505,\r\n        lng: -0.09,\r\n        name: 'b'\r\n      },\r\n    */\r\n  }\r\n}\r\n\r\nexport default function(state = defaultValues , action) {\r\n  switch (action.type){\r\n    case LOAD_STATIC_MARKERS:\r\n      let statics = {};\r\n      //TODO: Sacar esto de aqui\r\n      action.payload.markerList.forEach(element => {\r\n        let untilAux;\r\n        if(element.until == 'null'){\r\n          untilAux = 'Estamos averiguando para usted ♥';\r\n        }else{\r\n          untilAux = element.until;\r\n        }\r\n        statics[element.location_id] = {\r\n          lat: element.lat,\r\n          lng: element.long,\r\n          name: element.name,\r\n          until: untilAux,\r\n          marker_type: -1,\r\n        }\r\n      });\r\n      return update(state, {markers: {$merge: statics}} );\r\n    case LOAD_MARKERS:\r\n      let dinamycMarkers = {};\r\n      action.payload.markerList.forEach(element => {\r\n\r\n        //TODO: Aplicar TimeZone correctamente\r\n        let created_at = moment(element.created_at).subtract({'hours': 4});\r\n        let updated_at = moment(element.updated_at).subtract({'hours': 4});\r\n\r\n        if(action.payload.adminFilter == 'none'){    \r\n          dinamycMarkers[element.marker_id] = {\r\n            lat: element.lat,\r\n            lng: element.long,\r\n            name: element.name,\r\n            marker_type: element.marker_type, \r\n            enable: element.enable,\r\n            created_at: created_at,\r\n            updated_at: updated_at\r\n          }\r\n        }else if(action.payload.adminFilter == 'enabled'){\r\n          if(element.enable){\r\n            dinamycMarkers[element.marker_id] = {\r\n              lat: element.lat,\r\n              lng: element.long,\r\n              name: element.name,\r\n              marker_type: element.marker_type, \r\n              enable: element.enable,\r\n              created_at: created_at,\r\n              updated_at: updated_at\r\n            }\r\n          }\r\n        }else if(action.payload.adminFilter == 'disabled'){\r\n          if(!element.enable){\r\n            dinamycMarkers[element.marker_id] = {\r\n              lat: element.lat,\r\n              lng: element.long,\r\n              name: element.name,\r\n              marker_type: element.marker_type, \r\n              enable: element.enable,\r\n              created_at: created_at,\r\n              updated_at: updated_at\r\n            }\r\n          }\r\n        }else{\r\n          dinamycMarkers = {};\r\n        }\r\n      });\r\n      //console.log(dinamycMarkers);\r\n      return update(state, {markers: {$merge: dinamycMarkers}} );\r\n    case CLEAR_ALL_MARKERS:\r\n      return update(state, {markers: {$set: {}}} );\r\n    /*\r\n    case TEST_LOCAL_FILTER_ONLY_ENABLED:\r\n      let newListEnabled = {}\r\n      Object.entries(state.markers).forEach(function(data) {\r\n        const markerId = data[0];\r\n        const markerData = data[1];\r\n        if(markerData.enable){\r\n          newListEnabled[markerId] = markerData;\r\n        }\r\n      });\r\n      return update(state, {markers: {$set: newListEnabled}} );\r\n    case TEST_LOCAL_FILTER_ONLY_DISABLED:\r\n      let newListDisabled = {}\r\n      Object.entries(state.markers).forEach(function(data) {\r\n        const markerId = data[0];\r\n        const markerData = data[1];\r\n        if(!markerData.enable){\r\n          newListDisabled[markerId] = markerData;\r\n        }\r\n      });\r\n      return update(state, {markers: {$set: newListDisabled}} );\r\n    */\r\n    default:\r\n      return state;\r\n  }\r\n}","import update from 'react-addons-update';\r\n\r\nimport { SET_GLOBAL_CONFIG } from '../actions/types';\r\n\r\nvar defaultValues = {\r\n    newMarketShowRefPoint: false,\r\n    newMarketFromOpen: false,\r\n    editMarketFromOpen:false,\r\n    adminEnabledFilter:'none'\r\n}\r\n\r\nexport default function(state = defaultValues , action) {\r\n  switch (action.type){\r\n    case SET_GLOBAL_CONFIG:\r\n      return update(state, {$merge: action.payload} );\r\n    default:\r\n      return state;\r\n  }\r\n}","import update from 'react-addons-update';\r\n\r\nimport { LOAD_MARKER_DETAIL, UNLOAD_MARKER_DETAIL } from '../actions/types';\r\n\r\nvar defaultValues = {\r\n  markerDetail: {\r\n    until: '00:00',\r\n    queue_level: '0',\r\n    products:['']\r\n  },\r\n  ready: false\r\n}\r\n\r\nexport default function(state = defaultValues , action) {\r\n  switch (action.type){\r\n    case LOAD_MARKER_DETAIL:\r\n        return update(state, {$set: action.payload});\r\n    case UNLOAD_MARKER_DETAIL:\r\n        return update(state, {ready: {$set: false}});\r\n    default:\r\n        return state;\r\n  }\r\n}","import update from 'react-addons-update';\r\n\r\nimport { SET_MARKER_EDIT_DATA } from '../actions/types';\r\n\r\nvar defaultValues = {\r\n  markerDetail: {\r\n    until: '00:00',\r\n    queue_level: '0',\r\n    products:[''],\r\n    name: '',\r\n    id:'',\r\n  }\r\n}\r\n\r\nexport default function(state = defaultValues , action) {\r\n  switch (action.type){\r\n    case SET_MARKER_EDIT_DATA:\r\n        //console.log(action.payload);\r\n        //return state; \r\n        return update(state, {markerDetail: {$set: action.payload}});\r\n    default:\r\n        return state;\r\n  }\r\n}","  \r\nimport { combineReducers } from 'redux';\r\n\r\nimport test from './test';\r\nimport markers from './markers';\r\nimport globals from './globals';\r\nimport markerDetail from './markerDetail';\r\nimport markerEdit from './markerEdit';\r\n\r\nexport default combineReducers({\r\n  test: test,\r\n  markers: markers,\r\n  globals: globals,\r\n  markerDetail: markerDetail,\r\n  markerEdit: markerEdit\r\n});","import { TEST } from '../actions/types';\r\n\r\nexport default function(state = 0 , action) {\r\n  switch (action.type){\r\n    case TEST:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","export const TEST = 'test';\r\nexport const SET_GLOBAL_CONFIG = 'set_global_config';\r\nexport const LOAD_MARKERS = 'load_markers';\r\nexport const LOAD_STATIC_MARKERS = 'load_static_markers';\r\nexport const LOAD_MARKER_DETAIL = 'load_marker_detail';\r\nexport const SET_MARKER_EDIT_DATA = 'set_marker_edit_data';\r\nexport const UNLOAD_MARKER_DETAIL = 'unload_marker_detail';\r\nexport const CLEAR_ALL_MARKERS = 'clear_all_markers';\r\nexport const TEST_LOCAL_FILTER_ONLY_ENABLED = 'test_local_filter_only_enabled';\r\nexport const TEST_LOCAL_FILTER_ONLY_DISABLED= 'test_local_filter_only_disabled';","import {\r\n    SET_GLOBAL_CONFIG\r\n } from './types';\r\n \r\nexport const setNewMarkerRefPointOn = () => dispatch => new Promise((resolve, reject) => {\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {newMarketShowRefPoint: true}});\r\n  resolve();\r\n});\r\n\r\nexport const setNewMarkerRefPointOff = () => dispatch => new Promise((resolve, reject) => {\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {newMarketShowRefPoint: false}});\r\n  resolve();\r\n});\r\n\r\nexport const setNewMarkerFromOpen = () => dispatch => new Promise((resolve, reject) => {\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {newMarketFromOpen: true}});\r\n  resolve();\r\n});\r\n\r\nexport const setNewMarkerFromClose = () => dispatch => new Promise((resolve, reject) => {\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {newMarketFromOpen: false}});\r\n  resolve();\r\n});\r\n\r\n","import axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nimport {\r\n    LOAD_STATIC_MARKERS,\r\n    LOAD_MARKERS,\r\n    LOAD_MARKER_DETAIL,\r\n    UNLOAD_MARKER_DETAIL,\r\n    CLEAR_ALL_MARKERS,\r\n} from './types';\r\n\r\nrequire('dotenv').config();\r\n\r\n//TODO: ESTATICOS DESACTIVADOS\r\nexport const loadStaticMarkers = () => async (dispatch) => {\r\n    /*\r\n    try {\r\n        let body = JSON.stringify({ latMin: -100, latMax: 100, lngMin: -100, lngMax: 100 })\r\n        let config = {\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'X-Api-Key': process.env.REACT_APP_API_KEY\r\n            }\r\n        }\r\n        const res = await axios.post(process.env.REACT_APP_BASE_URL+'/locations/list',body,config);\r\n        dispatch({ type: LOAD_STATIC_MARKERS, payload: {markerList: res.data}});\r\n        return true;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return false;\r\n    }\r\n    */\r\n   return true;\r\n};\r\n\r\nexport const loadMarkers = (adminFilter) => async (dispatch) => {\r\n    try {\r\n        let body = JSON.stringify({ latMin: -100, latMax: 100, lngMin: -100, lngMax: 100 })\r\n        let config = {\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'X-Api-Key': process.env.REACT_APP_API_KEY\r\n            }\r\n        }\r\n        const res = await axios.post(process.env.REACT_APP_BASE_URL+'/markers/dev/list',body,config);\r\n        dispatch({ type: LOAD_MARKERS, payload: {markerList: res.data, adminFilter: adminFilter}});\r\n        return true;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return false;\r\n    }\r\n};\r\n\r\n\r\nexport const getMarketDetail = (data) => async (dispatch) => {\r\n    try {\r\n        let body = JSON.stringify({ marker_id: data.id })\r\n        let config = {\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'X-Api-Key': process.env.REACT_APP_API_KEY\r\n            }\r\n        }\r\n        const res = await axios.post(process.env.REACT_APP_BASE_URL+'/markers/info',body,config);\r\n        let lastChange;\r\n        if(res.data[0].updated_at){\r\n            lastChange = res.data[0].updated_at;\r\n        }else{\r\n            lastChange = res.data[0].created_at;\r\n        }\r\n        //TODO: Aplicar TimeZone correctamente\r\n        lastChange = moment(lastChange).subtract({'hours': 4}).format('DD-MM HH:mm A');\r\n        let products = [];\r\n        res.data[0].products.forEach(element => {\r\n            products.push(element.name);\r\n        });\r\n        let nivelCola = '';\r\n        if(res.data[0].queue_level == 1){\r\n            nivelCola = 'Ninguna';\r\n        }else if(res.data[0].queue_level == 2){\r\n            nivelCola = 'Pocas';\r\n        }else if(res.data[0].queue_level == 3){\r\n            nivelCola = 'Algunas';\r\n        }else if(res.data[0].queue_level == 4){\r\n            nivelCola = 'Muchas';\r\n        }else if(res.data[0].queue_level == 5){\r\n            nivelCola = 'No ir, está cerrado';\r\n        }else{\r\n            nivelCola = '';\r\n        }\r\n        let untilAux;\r\n        if(res.data[0].closing_hour == 'null'){\r\n          untilAux = 'Estamos averiguando para usted ♥';\r\n        }else{\r\n          untilAux = res.data[0].closing_hour;\r\n        }\r\n        const markerInfo = {\r\n            ready: true,\r\n            markerDetail: {\r\n                until: untilAux,\r\n                queue_level: nivelCola,\r\n                products:products,\r\n                lastChange: lastChange\r\n            },\r\n        }\r\n        dispatch({ type: LOAD_MARKER_DETAIL, payload: markerInfo});\r\n        return true;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const unLoadMarkerDetail = () => dispatch => new Promise((resolve, reject) => {\r\n    dispatch({ type: UNLOAD_MARKER_DETAIL, payload:null});\r\n    resolve();\r\n});\r\n\r\nexport const newMarker = (data) => async (dispatch) => {\r\n    try {\r\n        let body = JSON.stringify({ \r\n            lat: data.lat, \r\n            long: data.lng, \r\n            name: data.name, \r\n            closing_hour: data.closing_hour,\r\n            products: data.products,\r\n            queue_level: data.queue_level,\r\n            marker_type: 1\r\n        })\r\n        let config = {\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'X-Api-Key': process.env.REACT_APP_API_KEY\r\n            }\r\n        }\r\n        console.log(body);\r\n        const res = await axios.post(process.env.REACT_APP_BASE_URL+'/markers',body,config);\r\n        return true;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const clearAllMarkers = () => dispatch => new Promise((resolve, reject) => {\r\n    dispatch({ type: CLEAR_ALL_MARKERS, payload:null});\r\n    resolve();\r\n});","\r\nimport axios from 'axios';\r\n\r\nimport {\r\n  SET_GLOBAL_CONFIG,\r\n  SET_MARKER_EDIT_DATA,\r\n} from './types';\r\n\r\nrequire('dotenv').config();\r\n\r\nexport const setEditMarkerFromOpen = (data) => dispatch => {\r\n  let markerDetail = {\r\n    until: data.until,\r\n    queue_level: data.queue_level,\r\n    products: data.products,\r\n    name: data.name,\r\n    id:data.id,\r\n  }\r\n  dispatch({ type: SET_MARKER_EDIT_DATA, payload: markerDetail});\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {editMarketFromOpen: true}});\r\n};\r\n\r\nexport const setEditMarkerFromClose = () => dispatch => {\r\n  dispatch({ type: SET_GLOBAL_CONFIG, payload: {editMarketFromOpen: false}});\r\n};\r\n\r\n\r\nexport const editMarker = (data) => async (dispatch) => {\r\n  try {\r\n      let body = JSON.stringify({ \r\n        marker_id: data.marker_id,\r\n        closing_hour: data.closing_hour,\r\n        products: data.products,\r\n        queue_level: data.queue_level\r\n      });\r\n      let config = {\r\n          headers: { \r\n              'Content-Type': 'application/json',\r\n              'X-Api-Key': process.env.REACT_APP_API_KEY\r\n          }\r\n      };\r\n      console.log(body);\r\n      const res = await axios.post(process.env.REACT_APP_BASE_URL+'/markers/update',body,config);\r\n      return true;\r\n  } catch (err) {\r\n      console.log(err);\r\n      return false;\r\n  }\r\n};\r\n","import axios from 'axios';\r\n\r\nimport {\r\n    LOAD_MARKERS\r\n} from './types';\r\n\r\nrequire('dotenv').config();\r\n\r\nexport const productFilter = (data) => async (dispatch) => {\r\n    console.log(data);\r\n    try {\r\n        let body = JSON.stringify({ latMin: -100, latMax: 100, lngMin: -100, lngMax: 100, product_type: data.productFilter })\r\n        let config = {\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'X-Api-Key': process.env.REACT_APP_API_KEY\r\n            }\r\n        }\r\n        const res = await axios.post(process.env.REACT_APP_BASE_URL+'/markers/filtered',body,config);\r\n        //console.log(res);\r\n        dispatch({ type: LOAD_MARKERS, payload: {markerList: res.data}});\r\n        return true;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return false;\r\n    }\r\n};\r\n","import axios from 'axios';\r\n\r\nimport {\r\n    TEST_LOCAL_FILTER_ONLY_ENABLED,\r\n    TEST_LOCAL_FILTER_ONLY_DISABLED,\r\n    SET_GLOBAL_CONFIG\r\n} from './types';\r\n\r\n\r\nexport const changeAuth = (data) => async (dispatch) => {\r\n    try {\r\n        let body = JSON.stringify({ \r\n          marker_id: data.id,\r\n          is_enable: data.enabledStatus\r\n        });\r\n        let config = {\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'X-Api-Key': process.env.REACT_APP_API_KEY\r\n            }\r\n        };\r\n        console.log(body);\r\n        const res = await axios.post(process.env.REACT_APP_BASE_URL+'/markers/dev/update',body,config);\r\n        return true;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return false;\r\n    }\r\n  };\r\n  \r\nexport const TESTlocalFilterAll= () => dispatch => new Promise((resolve, reject) => {\r\n    dispatch({ type: SET_GLOBAL_CONFIG, payload:{adminEnabledFilter: 'none'}});\r\n    resolve();\r\n})\r\n\r\nexport const TESTlocalFilterOnlyEnabled= () => dispatch => new Promise((resolve, reject) => {\r\n    //dispatch({ type: TEST_LOCAL_FILTER_ONLY_ENABLED, payload:null});\r\n    dispatch({ type: SET_GLOBAL_CONFIG, payload:{adminEnabledFilter: 'enabled'}});\r\n    resolve();\r\n});\r\n\r\nexport const TESTlocalFilterOnlyDisabled= () => dispatch => new Promise((resolve, reject) => {\r\n    //dispatch({ type: TEST_LOCAL_FILTER_ONLY_DISABLED, payload:null});\r\n    dispatch({ type: SET_GLOBAL_CONFIG, payload:{adminEnabledFilter: 'disabled'}});\r\n    resolve();\r\n});\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col, TextInput, Button, CardPanel } from 'react-materialize';\r\nimport TimePicker from 'rc-time-picker';\r\nimport moment from 'moment';\r\nimport  MultiSelectReact  from 'multi-select-react';\r\nimport 'rc-time-picker/assets/index.css';\r\nimport * as actions from '../actions';\r\n\r\nclass NewMarker extends Component { \r\n\r\n  constructor(props){\r\n    super(props);\r\n    const now = moment();\r\n    this.state = {\r\n      nombre:'', \r\n      time:now,\r\n      format: 'h:mm a',\r\n      selectCola: [\r\n        {value: false, label: \"Ninguna\", id: 1, level: 1},\r\n        {value: false, label: \"Pocas\", id: 2, level: 2},\r\n        {value: false, label: \"Algunas\", id: 3, level: 3},\r\n        {value: false, label: \"Muchas\", id: 4, level: 4},\r\n        {value: false, label: \"No ir, esta cerrado\", id: 5, level: 5}\r\n      ],\r\n      selectProducto: [\r\n        {value: false, label: \"Abarrotes\", id: 1},\r\n        {value: false, label: \"Alimentos\", id: 2},\r\n        {value: false, label: \"Bebestibles\", id: 3},\r\n        {value: false, label: \"Medicamentos\", id: 4},\r\n        {value: false, label: \"Alimento de mascotas\", id: 5},\r\n        {value: false, label: \"Otros\", id: 6},\r\n        {value: false, label: \"No ir, no hay nada\", id: 7}\r\n      ],\r\n      error: false,\r\n      showAviso: false,\r\n      procesando: false,\r\n      errorMsg: ''\r\n    }\r\n  }\r\n\r\n  optionClickedCola(optionsList) {\r\n    this.setState({ selectCola: optionsList });\r\n  }\r\n\r\n  selectedBadgeClickedCola(optionsList) {\r\n    this.setState({ selectCola: optionsList });\r\n  }\r\n\r\n  optionClickedProducto(optionsList) {\r\n    this.setState({ selectProducto: optionsList });\r\n  }\r\n\r\n  selectedBadgeClickedProducto(optionsList) {\r\n    this.setState({ selectProducto: optionsList });\r\n  }\r\n\r\n  validateForm(){\r\n    let queue_level = -1;\r\n    this.state.selectCola.forEach((item) => {\r\n      if(item.value){\r\n        queue_level = item.level;\r\n      }\r\n    });\r\n    if(queue_level == -1){\r\n      this.setState({\r\n        errorMsg: 'Tienes que ingresar toda la información porfa :)'\r\n      });\r\n      return false;\r\n    }\r\n    let products = [];\r\n    this.state.selectProducto.forEach((item) => {\r\n      if(item.value){\r\n        products.push({name: item.label});\r\n      }\r\n    });\r\n    if(products.length == 0){\r\n      this.setState({\r\n        errorMsg: 'Tienes que ingresar toda la información porfa :)'\r\n      });\r\n      return false;\r\n    }\r\n    if(this.state.nombre.length < 3){\r\n      this.setState({\r\n        errorMsg: 'Tienes que ingresar toda la información porfa :)'\r\n      });\r\n      return false;\r\n    }\r\n    if(this.state.nombre.length > 50){\r\n      this.setState({\r\n        errorMsg: 'El nombre del lugar es muy grande :)'\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onCreateNewMarker(){\r\n    if(this.validateForm()){\r\n      let queue_level;\r\n      this.state.selectCola.forEach((item) => {\r\n        if(item.value){\r\n          queue_level = item.level;\r\n        }\r\n      });\r\n      let products = [];\r\n      this.state.selectProducto.forEach((item) => {\r\n        if(item.value){\r\n          products.push({name: item.label});\r\n        }\r\n      });\r\n      let data = {\r\n        lat: this.props.newMarkerLat,\r\n        lng: this.props.newMarkerLng,\r\n        name: this.state.nombre,\r\n        closing_hour: this.state.time.format('HH:mm'),\r\n        products: products,\r\n        queue_level: queue_level\r\n      };\r\n      this.setState({error:false, procesando: true})\r\n      this.props.newMarker(data).then(()=>{\r\n        this.props.loadStaticMarkers().then(() => {\r\n          this.props.loadMarkers(this.props.globals.adminEnabledFilter).then(() => {\r\n            this.setState({showAviso: true, procesando: false});\r\n          });\r\n        });\r\n      });\r\n    }else{\r\n      this.setState({error:true})\r\n    }\r\n  }\r\n\r\n  renderError(){\r\n    if(this.state.error){\r\n      return(<div style={{color:'red'}}>{this.state.errorMsg}</div>);\r\n    }\r\n  }\r\n\r\n  renderOptions(){\r\n    if(this.state.showAviso){\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <div style={{paddingBottom: '10px', paddingTop:'50px'}}><b>Gracias!, luego que revisemos tu aporte, lo compartiremos con todo Chile! </b></div>\r\n            <Button  \r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={() => { this.props.setNewMarkerRefPointOff().then(() => this.props.setNewMarkerFromClose())}}\r\n            >\r\n              Ya !\r\n            </Button >\r\n          </Col>\r\n        </div>\r\n      );\r\n    }else if(this.state.procesando){\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <div style={{paddingBottom: '10px', paddingTop:'50px'}}><b>Estamos procesando!... 5 segundos porfa :)</b></div>\r\n          </Col>\r\n        </div>\r\n      );\r\n    }else{\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <Button  \r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => this.onCreateNewMarker()}\r\n            >\r\n              Agregar local\r\n            </Button >\r\n          </Col>\r\n          <Col s={12}  style={{textAlign:'center'}}>\r\n            <Button  \r\n              style={{backgroundColor: '#aeb7b3', color: '#000411'}}\r\n              onClick={() => { this.props.setNewMarkerRefPointOff().then(() => this.props.setNewMarkerFromClose())}}\r\n            >\r\n              Cancelar\r\n            </Button >\r\n          </Col>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderForm(){\r\n    if(!this.state.procesando && !this.state.showAviso){\r\n      const selectedOptionsStyles = {\r\n        color: \"#160c28\",\r\n        backgroundColor: \"#efcb68\"\r\n      };\r\n      const optionsListStyles = {\r\n        backgroundColor: \"#fcf8e3\",\r\n        color: \"#8a6d3b\"\r\n      };\r\n      return(\r\n        <Col s={12} style={{marginTop:'10px'}}>\r\n          <Col s={10} offset='s1' style={{paddingLeft:'0px', paddingRight: '0px'}}>\r\n            <TextInput label=\"Nombre de la tienda\" value={this.state.nombre} onChange={(event) => this.setState({nombre: event.target.value})} />\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <p>¿A qué hora cierra?</p>\r\n            <TimePicker\r\n              allowEmpty={false}\r\n              showSecond={false}\r\n              defaultValue={this.state.time}\r\n              className=\"xxx\"\r\n              onChange={(time) => this.setState({time:time})}\r\n              format={this.state.format}\r\n              inputReadOnly\r\n            />\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <p style={{marginBottom: '5px'}}>¿Cuánta cola hay?</p>\r\n            <MultiSelectReact \r\n              options={this.state.selectCola}\r\n              optionClicked={this.optionClickedCola.bind(this)}\r\n              selectedBadgeClicked={this.selectedBadgeClickedCola.bind(this)}\r\n              selectedOptionsStyles={selectedOptionsStyles}\r\n              optionsListStyles={optionsListStyles}\r\n              isSingleSelect={true}\r\n            />\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '60px'}}>\r\n            <p style={{marginBottom: '5px'}}>¿Qué encontraste en este lugar?</p>\r\n            <MultiSelectReact \r\n              options={this.state.selectProducto}\r\n              optionClicked={this.optionClickedProducto.bind(this)}\r\n              selectedBadgeClicked={this.selectedBadgeClickedProducto.bind(this)}\r\n              selectedOptionsStyles={selectedOptionsStyles}\r\n              optionsListStyles={optionsListStyles}\r\n            />\r\n          </Col>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            {this.renderError()}\r\n          </Col>\r\n        </Col>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Row style={{width:'100%', position: 'absolute', paddingTop:'10px'}}>\r\n          <Col s={8} offset='s2' style={{textAlign:'center', paddingBottom: '10px',  paddingTop: '10px', background: '#160c28', color:'#e1efe6', borderRadius:'25px'}}>\r\n            <b>Ayúdanos a recolectar algo de información :)</b>\r\n          </Col>\r\n          {this.renderForm()}\r\n          {this.renderOptions()}\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n      globals: state.globals\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps,actions)(NewMarker);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Row, Col } from 'react-materialize';\r\nimport * as actions from '../actions';\r\n\r\nclass ToolBar extends Component { \r\n\r\nrenderToolBar(){\r\n    if(this.props.globals.newMarketShowRefPoint){\r\n      return(\r\n        <div>\r\n          <Col s={5} offset='s1'>\r\n            <Button  \r\n              style={{backgroundColor: '#aeb7b3', color: '#000411'}}\r\n              onClick={ () => this.props.setNewMarkerRefPointOff() }\r\n            >\r\n              Cancelar\r\n            </Button >\r\n          </Col>\r\n          <Col s={4}>\r\n            <Button\r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => this.props.setNewMarkerFromOpen() }\r\n            >\r\n              Continuar\r\n            </Button >\r\n          </Col>\r\n        </div>\r\n      );\r\n    }else{\r\n      return(\r\n        <div>\r\n          <Button\r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => {\r\n                this.props.setNewMarkerRefPointOn()} }\r\n            >\r\n              Agregar local\r\n            </Button >\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Row style={{textAlign:'center', marginBottom: '10px'}}>\r\n          <Col s={12} style={{paddingTop: '12px', paddingBottom: '12px'}}>\r\n            {this.renderToolBar()}\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        globals: state.globals\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, actions)(ToolBar);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Row, Col, Dropdown,Divider } from 'react-materialize';\r\nimport * as actions from '../actions';\r\n\r\nclass Filter extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      itemSelected:[\r\n        {value: false, label: \"Abarrotes\", id: 1},\r\n        {value: false, label: \"Alimentos\", id: 2},\r\n        {value: false, label: \"Bebestibles\", id: 3},\r\n        {value: false, label: \"Medicamentos\", id: 4},\r\n        {value: false, label: \"Alimento de mascotas\", id: 5},\r\n        {value: false, label: \"Otros\", id: 6},\r\n        {value: false, label: \"No ir, no hay nada\", id: 7}\r\n      ]\r\n    }\r\n    this.updateCenderMap = this.updateCenderMap.bind(this);\r\n  }\r\n\r\n  updateCenderMap(){\r\n    this.props.updateCenderMap();\r\n  }\r\n\r\n  updateItemSelected(selection){\r\n    let auxList = [];\r\n    this.state.itemSelected.forEach((item) => {\r\n      if(item.id == selection){\r\n        auxList.push({value: true, label: item.label, id: item.id})\r\n      }else{\r\n        auxList.push({value: false, label: item.label, id: item.id});\r\n      }\r\n    });\r\n    this.setState({\r\n      itemSelected: auxList,\r\n      desactivado: selection == '-1' ? true:false\r\n    });\r\n  }\r\n\r\n  renderFilterItems(){\r\n    let itemList = [];\r\n    this.state.itemSelected.forEach((item) => {\r\n      itemList.push(\r\n        <a \r\n          key={item.id}\r\n          onClick={() => this.updateItemSelected(item.id)}\r\n        >\r\n          {item.value ? <i className=\"material-icons\" style={{fontSize:\"24px\", color:\"#160c28\"}}>check</i> : null}\r\n          {item.label}\r\n        </a>\r\n      );\r\n    }, this);\r\n    return(itemList);\r\n  }\r\n\r\n  async filterMarkers(){\r\n    let activeFilver = 'none';\r\n    this.state.itemSelected.forEach((item) => {\r\n      if(item.value){\r\n        activeFilver = item.label;\r\n      }\r\n    });\r\n    await this.props.clearAllMarkers();\r\n    if(activeFilver != 'none'){\r\n      await this.props.productFilter({productFilter:activeFilver});\r\n    }else{\r\n      await this.props.loadMarkers(this.props.globals.adminEnabledFilter);\r\n    }\r\n    await this.props.loadStaticMarkers();\r\n  }\r\n\r\n  async TESTadminFilter(option){\r\n    await this.props.clearAllMarkers();\r\n    if(option == 'enabled'){\r\n      await this.props.TESTlocalFilterOnlyEnabled()\r\n      await this.props.loadMarkers(this.props.globals.adminEnabledFilter);\r\n    }\r\n    if(option == 'disabled'){\r\n      await this.props.TESTlocalFilterOnlyDisabled();\r\n      await this.props.loadMarkers(this.props.globals.adminEnabledFilter);\r\n    }\r\n    if(option == 'todo'){\r\n      await this.props.TESTlocalFilterAll();\r\n      await this.props.loadStaticMarkers();\r\n      await this.props.loadMarkers(this.props.globals.adminEnabledFilter);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Row style={{textAlign:'center', marginBottom: '0px', paddingLeft: '0px', paddingRight: '0px'}}>\r\n          <Col s={3} style={{paddingTop: '10px', paddingBottom: '10px'}}>\r\n\r\n            <Dropdown id={'test1'} trigger={<Button style={{backgroundColor:'#aeb7b3'}} onCloseEnd={this.filterMarkers()}><i className=\"material-icons\" style={{fontSize:\"25px\", color:\"black\"}}>filter_list</i></Button>}>\r\n              <a \r\n              onClick={() => this.updateItemSelected('-1')}\r\n              style={{\r\n                borderStyle: 'solid',\r\n                borderTopWidth: '0px',\r\n                borderLeftWidth: '0px',\r\n                borderRightWidth: '0px',\r\n                borderBottomWidth: '1px',\r\n                paddingBottom: '13px',\r\n                borderColor: '#efcb68'\r\n              }}\r\n              >\r\n                {this.state.desactivado ? <i className=\"material-icons\" style={{fontSize:\"24px\", color:\"#160c28\"}}>check</i> : null}\r\n                Ver todo\r\n              </a>\r\n              {this.renderFilterItems()}\r\n            </Dropdown>\r\n          </Col>\r\n          <Col s={6} style={{color:'white', paddingLeft: '0px', paddingRight: '0px', paddingTop:'5px', fontSize:'12px'}}>\r\n            <Button\r\n              onClick={() => this.TESTadminFilter('todo')}\r\n            >\r\n              Ver todo\r\n            </Button >\r\n            <Button\r\n              onClick={() => this.TESTadminFilter('enabled')}\r\n            >\r\n              Solo Activados\r\n            </Button >\r\n            <Button\r\n              onClick={() => this.TESTadminFilter('disabled')}\r\n            >\r\n              Solo Desactivados\r\n            </Button >\r\n          </Col>\r\n          <Col s={3} style={{paddingTop: '10px', paddingBottom: '10px', paddingLeft: '0px', paddingRight: '0px'}}>\r\n            <Button\r\n              onClick={ () => this.updateCenderMap() }\r\n              style={{backgroundColor:'#aeb7b3'}}\r\n            >\r\n              <i className=\"material-icons\" style={{fontSize:\"25px\", color:\"black\"}}>my_location</i>\r\n            </Button >\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    globals: state.globals\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps,actions)(Filter);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { Row, Col, TextInput, Button, CardPanel } from 'react-materialize';\r\nimport  MultiSelectReact  from 'multi-select-react';\r\nimport TimePicker from 'rc-time-picker';\r\nimport 'rc-time-picker/assets/index.css';\r\nimport * as actions from '../actions';\r\n\r\nclass EditMarker extends Component { \r\n\r\n  constructor(props){\r\n    super(props);\r\n    const now = moment();\r\n    this.state = {\r\n        nombre:'', \r\n        time:now,\r\n        format: 'h:mm a',\r\n        selectCola: [\r\n            {value: false, label: \"Ninguna\", id: 1, level: 1},\r\n            {value: false, label: \"Pocas\", id: 2, level: 2},\r\n            {value: false, label: \"Algunas\", id: 3, level: 3},\r\n            {value: false, label: \"Muchas\", id: 4, level: 4},\r\n            {value: false, label: \"No ir, está cerrado\", id: 5, level: 5}\r\n        ],\r\n        selectProducto: [\r\n            {value: false, label: \"Abarrotes\", id: 1},\r\n            {value: false, label: \"Alimentos\", id: 2},\r\n            {value: false, label: \"Bebestibles\", id: 3},\r\n            {value: false, label: \"Medicamentos\", id: 4},\r\n            {value: false, label: \"Alimento de mascotas\", id: 5},\r\n            {value: false, label: \"Otros\", id: 6},\r\n            {value: false, label: \"No ir, no hay nada\", id: 7}\r\n        ],\r\n        error: false,\r\n        showAviso: false,\r\n        procesando: false,\r\n        markerId: ''\r\n    }\r\n  }\r\n\r\n  componentWillMount(){\r\n      let selectColaAux = [];\r\n      this.state.selectCola.forEach((item) => {\r\n        if(this.props.markerEdit.markerDetail.queue_level == item.label){\r\n            selectColaAux.push({value: true, label: item.label, id: item.id, level: item.level});\r\n        }else{\r\n            selectColaAux.push(item);\r\n        }\r\n      });\r\n      let selectProductoAux = [];\r\n     this.state.selectProducto.forEach((item) => {\r\n        let encontrado = false;\r\n        this.props.markerEdit.markerDetail.products.forEach((incomeItems) => {\r\n            if(item.label == incomeItems){\r\n                selectProductoAux.push({value: true, label: item.label, id: item.id});\r\n                encontrado = true;\r\n            }\r\n        });\r\n        if(!encontrado){\r\n            selectProductoAux.push(item);\r\n        }\r\n     });\r\n      this.setState({\r\n          nombre: this.props.markerEdit.markerDetail.name,\r\n          time: moment(this.props.markerEdit.markerDetail.until, 'HH:mm A'),\r\n          selectCola: selectColaAux,\r\n          selectProducto: selectProductoAux,\r\n          markerId: this.props.markerEdit.markerDetail.id\r\n      })\r\n  }\r\n\r\n  validateForm(){\r\n    let queue_level = -1;\r\n    this.state.selectCola.forEach((item) => {\r\n      if(item.value){\r\n        queue_level = item.level;\r\n      }\r\n    });\r\n    if(queue_level == -1){\r\n      return false;\r\n    }\r\n    let products = [];\r\n    this.state.selectProducto.forEach((item) => {\r\n      if(item.value){\r\n        products.push({name: item.label});\r\n      }\r\n    });\r\n    if(products.length == 0){\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onEditMarker(){\r\n    if(this.validateForm()){\r\n      let queue_level;\r\n      this.state.selectCola.forEach((item) => {\r\n        if(item.value){\r\n          queue_level = item.level;\r\n        }\r\n      });\r\n      let products = [];\r\n      this.state.selectProducto.forEach((item) => {\r\n        if(item.value){\r\n          products.push({name: item.label});\r\n        }\r\n      });\r\n      let data = {\r\n        marker_id: this.state.markerId,\r\n        closing_hour: this.state.time.format('HH:mm'),\r\n        products: products,\r\n        queue_level: queue_level\r\n      };\r\n      this.setState({error:false, procesando: true})\r\n      this.props.editMarker(data).then(()=>{\r\n        this.props.loadStaticMarkers().then(() => {\r\n          this.props.loadMarkers(this.props.globals.adminEnabledFilter).then(() => {\r\n            this.setState({showAviso: true, procesando: false});\r\n          });\r\n        });\r\n      });\r\n    }else{\r\n      this.setState({error:true})\r\n    }\r\n  }\r\n\r\n  renderOptions(){\r\n    if(this.state.showAviso){\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <div style={{paddingBottom: '10px', paddingTop:'50px'}}><b>Gracias!, luego que revisemos tu aporte, lo compartiremos con todo Chile! </b></div>\r\n            <Button  \r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => {this.props.setEditMarkerFromClose();}}\r\n            >\r\n              Ya !\r\n            </Button >\r\n          </Col>\r\n        </div>\r\n      );\r\n    }else if(this.state.procesando){\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <div style={{paddingBottom: '10px', paddingTop:'50px'}}><b>Estamos procesando!... 5 segundos porfa :)</b></div>\r\n          </Col>\r\n        </div>\r\n      );\r\n    }else{\r\n      return(\r\n        <div>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <Button  \r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => this.onEditMarker()}\r\n            >\r\n              Confirmar\r\n            </Button >\r\n          </Col>\r\n          <Col s={12}  style={{textAlign:'center'}}>\r\n            <Button  \r\n              style={{backgroundColor: '#aeb7b3', color: '#000411'}}\r\n              onClick={ () => {this.props.setEditMarkerFromClose(); }}\r\n            >\r\n              Cancelar\r\n            </Button >\r\n          </Col>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  optionClickedCola(optionsList) {\r\n    this.setState({ selectCola: optionsList });\r\n  }\r\n\r\n  selectedBadgeClickedCola(optionsList) {\r\n    this.setState({ selectCola: optionsList });\r\n  }\r\n\r\n  optionClickedProducto(optionsList) {\r\n    this.setState({ selectProducto: optionsList });\r\n  }\r\n\r\n  selectedBadgeClickedProducto(optionsList) {\r\n    this.setState({ selectProducto: optionsList });\r\n  }\r\n\r\n  renderError(){\r\n    if(this.state.error){\r\n      return(<div style={{color:'red'}}>Tienes que ingresar toda la información porfa :)</div>);\r\n    }\r\n  }\r\n\r\n  renderForm(){\r\n    if(!this.state.procesando && !this.state.showAviso){\r\n      const selectedOptionsStyles = {\r\n        color: \"#160c28\",\r\n        backgroundColor: \"#efcb68\"\r\n      };\r\n      const optionsListStyles = {\r\n        backgroundColor: \"#fcf8e3\",\r\n        color: \"#8a6d3b\"\r\n      };\r\n      return(\r\n        <Col s={12} style={{marginTop:'10px'}}>\r\n          <Col s={10} offset='s1' style={{paddingLeft:'0px', paddingRight: '0px'}}>\r\n            <p style={{fontSize:'25px'}}><b>{this.state.nombre}</b></p>\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <p>¿A qué hora cierra?</p>\r\n            <TimePicker\r\n              allowEmpty={false}\r\n              showSecond={false}\r\n              defaultValue={this.state.time}\r\n              className=\"xxx\"\r\n              onChange={(time) => this.setState({time:time})}\r\n              format={this.state.format}\r\n              inputReadOnly\r\n            />\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            <p style={{marginBottom: '5px'}}>¿Cuánta cola hay?</p>\r\n            <MultiSelectReact \r\n              options={this.state.selectCola}\r\n              optionClicked={this.optionClickedCola.bind(this)}\r\n              selectedBadgeClicked={this.selectedBadgeClickedCola.bind(this)}\r\n              selectedOptionsStyles={selectedOptionsStyles}\r\n              optionsListStyles={optionsListStyles}\r\n              isSingleSelect={true}\r\n            />\r\n          </Col>\r\n          <Col s={10} offset='s1' style={{textAlign:'center', paddingBottom: '60px'}}>\r\n            <p style={{marginBottom: '5px'}}>¿Qué encontraste en este lugar?</p>\r\n            <MultiSelectReact \r\n              options={this.state.selectProducto}\r\n              optionClicked={this.optionClickedProducto.bind(this)}\r\n              selectedBadgeClicked={this.selectedBadgeClickedProducto.bind(this)}\r\n              selectedOptionsStyles={selectedOptionsStyles}\r\n              optionsListStyles={optionsListStyles}\r\n            />\r\n          </Col>\r\n          <Col s={12} style={{textAlign:'center', paddingBottom: '10px'}}>\r\n            {this.renderError()}\r\n          </Col>\r\n        </Col>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Row style={{width:'100%', position: 'absolute', paddingTop:'10px'}}>\r\n          <Col s={8} offset='s2' style={{textAlign:'center', paddingBottom: '10px',  paddingTop: '10px', background: '#160c28', color:'#e1efe6', borderRadius:'25px'}}>\r\n            <b>Ayúdanos a verificar lo que esta pasando :)</b>\r\n          </Col>\r\n          {this.renderForm()}\r\n          {this.renderOptions()}\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        markerEdit: state.markerEdit,\r\n        globals: state.globals\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps,actions)(EditMarker);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { Row, Col, Table,Button } from 'react-materialize';\r\n\r\nclass AdminPanel extends Component { \r\n\r\n  \r\n  renderListByDate(){\r\n    const sortDates = (a, b) => moment(b.created_at) - moment(a.created_at) ;\r\n    let markersArry = [];\r\n    Object.entries(this.props.markers).forEach(function(data) {\r\n      const markerId = data[0];\r\n      const markerData = data[1];\r\n      markersArry.push(Object.assign(markerData, {id: markerId}));\r\n    });\r\n    let ordenados = markersArry.sort(sortDates);\r\n    let cards = [];\r\n    ordenados.forEach((marker) => {\r\n      cards.push(\r\n        <tr key={marker.id}>\r\n          <td>\r\n            {marker.name}\r\n          </td>\r\n          <td>\r\n            {marker.enable ? 'Activado' : 'Desactivado'}\r\n          </td>\r\n          <td>\r\n            {moment(marker.created_at).format('DD-MM HH:mm A')}\r\n          </td>\r\n          <td>\r\n            {moment(marker.updated_at).format('DD-MM HH:mm A')}\r\n          </td>\r\n          <td>\r\n            <Button  \r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => this.props.onForceCenter(marker.lat,marker.lng, 17)  }\r\n            >\r\n              VER\r\n            </Button >\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n    return(cards);\r\n  }\r\n\r\n  render() {   \r\n    return (\r\n      <div>\r\n        <Row>\r\n          <Col s={12}>\r\n            <Table striped={true}>\r\n              <thead>\r\n                <tr>\r\n                  <th data-field=\"name\">\r\n                    Nombre\r\n                  </th>\r\n                  <th data-field=\"enable\">\r\n                    Estado\r\n                  </th>\r\n                  <th data-field=\"lastChange\">\r\n                    Fecha de creacion (ORDENADO DESCENDIENTE)\r\n                  </th>\r\n                  <th data-field=\"lastChange\">\r\n                    Fecha de actualizacion (Ignorar)\r\n                  </th>\r\n                  <th data-field=\"Go\">\r\n                    Ir\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {this.renderListByDate()}\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n      markers: state.markers.markers,\r\n      globals: state.globals\r\n    };\r\n  };\r\n\r\nexport default connect(mapStateToProps)(AdminPanel);","import L from 'leaflet';\r\n\r\nconst iconMarket = new L.Icon({\r\n    iconUrl: require('../img/market.svg'),\r\n    iconRetinaUrl: require('../img/market.svg'),\r\n    iconAnchor: [30, 65],\r\n    popupAnchor: [0, 0],\r\n    shadowUrl: null,\r\n    shadowSize: null,\r\n    shadowAnchor: null,\r\n    iconSize: new L.Point(60, 75),\r\n});\r\n\r\nconst iconMarketMini = new L.Icon({\r\n    iconUrl: require('../img/market.svg'),\r\n    iconRetinaUrl: require('../img/market.svg'),\r\n    iconAnchor: [20, 44],\r\n    popupAnchor: [0, 0],\r\n    shadowUrl: null,\r\n    shadowSize: null,\r\n    shadowAnchor: null,\r\n    iconSize: new L.Point(40, 50),\r\n});\r\n\r\nconst newMarker = new L.Icon({\r\n    iconUrl: require('../img/newMarker.svg'),\r\n    iconRetinaUrl: require('../img/newMarker.svg'),\r\n    iconAnchor: [30, 58],\r\n    popupAnchor: [0, 0],\r\n    shadowUrl: null,\r\n    shadowSize: null,\r\n    shadowAnchor: null,\r\n    iconSize: new L.Point(60, 75),\r\n});\r\n\r\nexport { iconMarket, newMarker, iconMarketMini };","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Map, TileLayer, Marker, Popup, ZoomControl } from 'react-leaflet';\r\nimport Control from 'react-leaflet-control';\r\nimport { Card, Button, Col } from 'react-materialize';\r\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\r\nimport * as actions from '../actions';\r\n\r\nimport NewMarker from './NewMarker';\r\nimport ToolBar from './ToolBar';\r\nimport Filter from './Filter';\r\nimport EditMarker from './EditMarker';\r\nimport AdminPanel from './AdminPanel';\r\n\r\nimport {iconMarket, newMarker, iconMarketMini} from '../helpers/iconList';\r\nimport Row from 'react-materialize/lib/Row';\r\n\r\nclass Home extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      zoom: 8,\r\n      newMarkerIcon: {\r\n        lat: -33.019,\r\n        lng: -71.550\r\n      },\r\n      centerMap:{\r\n        lat: -33.317,\r\n        lng: -71.103\r\n      }\r\n    }\r\n    this.onClickCenterMap = this.onClickCenterMap.bind(this);\r\n    this.forceCenter = this.forceCenter.bind(this);\r\n  }\r\n\r\n  mapRef = React.createRef();\r\n\r\n  async changeAuth(markerId, markerData){\r\n    await this.props.changeAuth({id: markerId, enabledStatus: !markerData.enable});\r\n    await this.props.clearAllMarkers();\r\n    await this.props.loadStaticMarkers();\r\n    await this.props.loadMarkers(this.props.globals.adminEnabledFilter);\r\n  }\r\n\r\n  renderMarker(){\r\n    const items = [];\r\n    //if(!this.props.globals.newMarketShowRefPoint){\r\n      Object.entries(this.props.markers).forEach(function(data) {\r\n        const markerId = data[0];\r\n        const markerData = data[1];\r\n        const editButton = (\r\n          <p>\r\n            <Button\r\n              style={{backgroundColor: '#efcb68', color: '#000411'}}\r\n              onClick={ () => this.props.setEditMarkerFromOpen({id: markerId, name: markerData.name, until:this.props.markerDetail.markerDetail.until , queue_level:this.props.markerDetail.markerDetail.queue_level , products: this.props.markerDetail.markerDetail.products}) }\r\n              disabled={this.props.markerDetail.ready ? false : true}\r\n            >\r\n              Actualizar información\r\n            </Button >\r\n          </p>\r\n        );\r\n        const deleteButton = (\r\n          <p>\r\n            <Button\r\n              style={{backgroundColor: 'red', color: '#000411'}}\r\n              //onClick={ () => this.props.setEditMarkerFromOpen({id: markerId, name: markerData.name, until:this.props.markerDetail.markerDetail.until , queue_level:this.props.markerDetail.markerDetail.queue_level , products: this.props.markerDetail.markerDetail.products}) }\r\n              disabled={this.props.markerDetail.ready ? false : true}\r\n            >\r\n              Eliminar punto\r\n            </Button >\r\n          </p>\r\n        );\r\n        const checkButton = (\r\n          <p>\r\n            <Button\r\n              style={{backgroundColor: markerData.enable ? '#ff6600' : '#00cc66', color: '#000411'}}\r\n              onClick={ () => this.changeAuth(markerId, markerData)}\r\n              disabled={this.props.markerDetail.ready ? false : true}\r\n            >\r\n              {markerData.enable ? 'Desactivar' : 'Activar'}\r\n            </Button >\r\n          </p>\r\n        );\r\n        items.push(\r\n          <Marker\r\n            style={{color:'red'}}\r\n            key={markerId} \r\n            position={[markerData.lat, markerData.lng]}\r\n            icon={this.state.zoom >= 18 ? iconMarketMini : iconMarket}\r\n            onClick={() => {\r\n              if(markerData.marker_type==1){\r\n                this.props.unLoadMarkerDetail().then(() => this.props.getMarketDetail({id: markerId}));\r\n              }\r\n            }}\r\n          >\r\n\r\n            <Popup autoPan={false}>\r\n\r\n              {markerData.enable ? 'Actualmente Activado' : 'Actualmente Desactivado'}\r\n              <p style={{fontSize:'18px', borderBottomStyle: 'solid', borderBottomWidth: '2px'}}><b>{markerData.name}</b></p>\r\n              <p><b>Cantidad de Personas:</b> {markerData.marker_type == 1 ? (this.props.markerDetail.ready ? this.props.markerDetail.markerDetail.queue_level : 'Cargando') : 'Estamos averiguando para usted ♥'}</p>\r\n              <p><b>Puedes encontrar:</b> {markerData.marker_type == 1 ? (this.props.markerDetail.ready ? this.props.markerDetail.markerDetail.products.join(', ') : 'Cargando') : 'Estamos averiguando para usted ♥'}</p>\r\n              <p><b>Hora de cierre:</b> {markerData.marker_type == 1 ? (this.props.markerDetail.ready ? this.props.markerDetail.markerDetail.until : 'Cargando') : markerData.until}</p>\r\n              {markerData.marker_type == 1 ? editButton: <div></div>}\r\n              {markerData.marker_type == 1 ? checkButton: <div></div>}\r\n              <p style={{fontSize: '11px', borderTopStyle: 'solid', borderTopWidth: '1px'}}>Ultima vez que la información fue actualizada&nbsp;&nbsp; {markerData.marker_type == 1 ? (this.props.markerDetail.ready ? this.props.markerDetail.markerDetail.lastChange : 'Cargando') : <div></div>}</p>\r\n            </Popup>\r\n\r\n          </Marker>\r\n        );\r\n      },this);\r\n    //}\r\n    return(\r\n      <MarkerClusterGroup \r\n        disableClusteringAtZoom={18} \r\n        spiderfyOnMaxZoom={false} \r\n      >\r\n      {items}\r\n      </MarkerClusterGroup>\r\n    );\r\n  }\r\n\r\n  renderNewMarketIcon(){\r\n    if(this.props.globals.newMarketShowRefPoint){\r\n      return(\r\n        <Marker \r\n          position={[this.state.newMarkerIcon.lat, this.state.newMarkerIcon.lng]}\r\n          icon={newMarker}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  async componentDidMount(){\r\n    //TODO: Ahora la carga de los puntos la gatilla el filtro, eso tiene que cambiar \r\n    //await this.props.clearAllMarkers();\r\n    //await this.props.loadStaticMarkers();\r\n    //await this.props.loadMarkers(this.props.globals.adminEnabledFilter);\r\n    /*\r\n    let bounds = this.mapRef.current.leafletElement.getBounds();\r\n    let mapwidh = Math.abs(bounds._northEast.lat - bounds._southWest.lat); //ancho\r\n    let mapheight = Math.abs(bounds._northEast.lng - bounds._southWest.lng); //alto\r\n    console.log(\"Se frist last coord for request\");\r\n    this.setState({\r\n      lastLatMax: bounds._northEast.lat + mapwidh,\r\n      lastLatMin: bounds._southWest.lat - mapwidh,\r\n      lastLngMax: bounds._northEast.lng + mapheight,\r\n      lastLngMin: bounds._northEast.lng - mapheight\r\n    });\r\n    */\r\n  }\r\n\r\n  onClickCenterMap(){\r\n    var options = {\r\n      enableHighAccuracy: true,\r\n      maximumAge: 0\r\n    };\r\n    //if(!this.props.globals.fristMapCenter){\r\n      navigator.geolocation.getCurrentPosition((poss) =>{\r\n        let lat = poss.coords.latitude;\r\n        let lng = poss.coords.longitude;\r\n        if(typeof(lat) !== 'undefined' && typeof(lng) !== 'undefined'){\r\n          this.setState({\r\n            newMarkerIcon: {\r\n              lat: lat,\r\n              lng: lng\r\n            },\r\n            centerMap:{\r\n              lat: lat,\r\n              lng: lng\r\n            },\r\n            zoom: 14\r\n          });\r\n        }\r\n      },null,options);\r\n    //}\r\n  }\r\n\r\n  onChangeMapPosition(data){\r\n    this.setState({\r\n      newMarkerIcon: {\r\n        lat: data.center[0],\r\n        lng: data.center[1]\r\n      },\r\n      centerMap:{\r\n        lat: data.center[0],\r\n        lng: data.center[1]\r\n      },\r\n      zoom: data.zoom\r\n    });\r\n    //let bounds = this.mapRef.current.leafletElement.getBounds();\r\n    //console.log(bounds._northEast.lat); //arriba derecha de la ventana\r\n    //console.log(bounds._northEast.lng);\r\n    //console.log(bounds._southWest.lat); //abajo izquierda de la venana\r\n    //console.log(bounds._southWest.lng);\r\n    //let mapwidh = Math.abs(bounds._northEast.lat - bounds._southWest.lat); //ancho\r\n    //let mapheight = Math.abs(bounds._northEast.lng - bounds._southWest.lng); //alto\r\n    //console.log(mapwidh);\r\n    //console.log(mapheight);\r\n    //console.log(bounds._northEast.lat + mapwidh); //limite superior de carga (pared de la derecha)\r\n    //console.log(bounds._southWest.lat - mapwidh); //lminte inferior de carga (pared de la izquierda)\r\n    //console.log(bounds._northEast.lng + mapheight); //lminte inferior de carga (techo)\r\n    //console.log(bounds._northEast.lng - mapheight); //lminte inferior de carga (base)\r\n\r\n  }\r\n\r\n  renderNewMarkerFrom(){\r\n    if(this.props.globals.newMarketFromOpen){\r\n      return(\r\n        <NewMarker\r\n          newMarkerLat={this.state.newMarkerIcon.lat}\r\n          newMarkerLng={this.state.newMarkerIcon.lng}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  renderEditMarkerFrom(){\r\n    if(this.props.globals.editMarketFromOpen){\r\n      return(\r\n        <EditMarker/>\r\n      );\r\n    }\r\n  }\r\n\r\n  forceCenter(lat, lng, zoom){\r\n    this.setState({\r\n      centerMap:{\r\n        lat: lat,\r\n        lng: lng\r\n      },\r\n      zoom: zoom\r\n    });\r\n  }\r\n\r\n  //TODO: OJO NOMBRE\r\n  /*\r\n  updateCenderMap(){\r\n    var options = {\r\n      enableHighAccuracy: true,\r\n      maximumAge: 0\r\n    };\r\n    navigator.geolocation.getCurrentPosition((poss) =>{\r\n      let lat = poss.coords.latitude;\r\n      let lng = poss.coords.longitude;\r\n      if(typeof(lat) !== 'undefined' && typeof(lng) !== 'undefined'){\r\n        //TODO: ENVIAR AQUI \r\n        this.props.setNewCerterMap({lat,lng});\r\n        this.forceUpdate();\r\n      }\r\n    },null,options);\r\n  }\r\n  */\r\n\r\n  render() {\r\n    const displayMap = this.props.globals.newMarketFromOpen ? 'none' : 'block' && this.props.globals.editMarketFromOpen ? 'none' : 'block';\r\n    return (\r\n      <div>\r\n        <div style={{position:'fixed', width:'50%', height:'100%', left: '0'}}>\r\n          {this.renderNewMarkerFrom()}\r\n          {this.renderEditMarkerFrom()}\r\n          <Map \r\n            maxZoom={18}\r\n            minZoom={5}\r\n            ref={this.mapRef}\r\n            style={{display: displayMap}}\r\n            center={[this.state.centerMap.lat,this.state.centerMap.lng]}\r\n            zoom={this.state.zoom}\r\n            onViewportChange={(data) => this.onChangeMapPosition(data)}\r\n            zoomControl={false}\r\n            //TODO:Ver como arreglar la animacion \r\n            animate={false}\r\n          >\r\n            <TileLayer\r\n              attribution='&amp;copy OpenStreetMap \\m/ <font color=\"#160c28\"> Con ♥ por Sudo B00yz</font>'\r\n              //url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n              url=\"https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png\"\r\n            />\r\n            {this.renderMarker()}\r\n            {this.renderNewMarketIcon()}\r\n\r\n            <Control position=\"topleft\">\r\n              <Filter updateCenderMap={this.onClickCenterMap}/>\r\n            </Control>\r\n\r\n            <Control position=\"bottomleft\" >\r\n              <ToolBar/>\r\n            </Control>\r\n\r\n            <ZoomControl position={\"bottomleft\"}/>\r\n          </Map>\r\n        </div>\r\n        <div style={{position:'absolute', width:'50%', height:'100%', right: '0'}}>\r\n          <AdminPanel onForceCenter={this.forceCenter}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    markers: state.markers.markers,\r\n    globals: state.globals,\r\n    markerDetail: state.markerDetail\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps,actions)(Home);","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\n\r\nimport Home from './Home';\r\n\r\nconst Main = () => {\r\n  return(\r\n    <BrowserRouter>\r\n      <div>\r\n        <Route exact={true} path=\"/\" component={Home} />\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Main;","import 'materialize-css/dist/js/materialize.min.js'\r\nimport 'materialize-css/dist/css/materialize.min.css';\r\nimport 'react-leaflet-markercluster/dist/styles.min.css'; \r\nimport './css/customCss.css';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport reducers from './reducers';\r\nimport Main from './components/Main';\r\n\r\n//TODO: quitar loger de redux dev tools para production\r\nconst store = createStore(reducers, {},\r\n  compose(\r\n    applyMiddleware(reduxThunk),\r\n    window.devToolsExtension ? window.devToolsExtension() : f => f\r\n    )\r\n  );\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n      <Main />\r\n  </Provider>,\r\n  document.querySelector('#root')\r\n);","module.exports = __webpack_public_path__ + \"static/media/market.4497199f.svg\";"],"sourceRoot":""}